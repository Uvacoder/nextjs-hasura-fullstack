mutation MoveList(
  $board_id: Int!
  $sourcePos: Int!
  $destPos: Int!
  $startPos: Int!
  $endPos: Int!
  $inc: Int!
) {
  update_lists(
    where: { board_id: { _eq: $board_id }, position: { _eq: $sourcePos } }
    _set: { position: 9999 }
  ) {
    returning {
      ...List
    }
  }
  update_lists_1: update_lists(
    where: {
      board_id: { _eq: $board_id }
      position: { _gt: $startPos, _lte: $endPos }
    }
    _inc: { position: $inc }
  ) {
    returning {
      ...List
    }
  }
  update_lists_2: update_lists(
    where: { board_id: { _eq: $board_id }, position: { _eq: 9999 } }
    _set: { position: $destPos }
  ) {
    returning {
      ...List
    }
  }
}
